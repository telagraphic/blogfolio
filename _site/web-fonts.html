<!doctype html><html class="no-js" lang="en" dir="ltr"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"><title>Nick Lyons Blogfolio</title><link rel="icon" type="image/x-icon" href="https://example.com/favicon.ico"><link rel="canonical" href="https://www.telagraphic.com"><meta name="description" content="Front end learnings on UI/UX, Code and Design"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="stylesheet" href="/css/main.css"><link rel="preload" href="/assets/fonts/PublicSans-ThinItalic.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/assets/fonts/PublicSans-Bold.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/assets/fonts/PublicSans-ExtraLight.woff2" as="font" type="font/woff2" crossorigin><style>
    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ThinItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ThinItalic.woff) format('woff')";
      font-display: swap;
      font-weight: 100;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-Bold.woff2) format('woff2'), url(assets/fonts/PublicSans-Bold.woff) format('woff')";
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ExtraLight.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLight.woff) format('woff')";
      font-display: swap;
      font-weight: 200;
    }
  00040font-face{font-family:"Public Sans";src:"url(assets/fonts/PublicSans-ThinItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ThinItalic.woff) format('woff')";font-display:swap;font-weight:100}
    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ThinItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ThinItalic.woff) format('woff')";
      font-display: swap;
      font-weight: 100;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-Bold.woff2) format('woff2'), url(assets/fonts/PublicSans-Bold.woff) format('woff')";
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ExtraLight.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLight.woff) format('woff')";
      font-display: swap;
      font-weight: 200;
    }
  00040font-face{font-family:"Public Sans";src:"url(assets/fonts/PublicSans-Bold.woff2) format('woff2'), url(assets/fonts/PublicSans-Bold.woff) format('woff')";font-display:swap;font-weight:600}
    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ThinItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ThinItalic.woff) format('woff')";
      font-display: swap;
      font-weight: 100;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-Bold.woff2) format('woff2'), url(assets/fonts/PublicSans-Bold.woff) format('woff')";
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Public Sans";
      src: "url(assets/fonts/PublicSans-ExtraLight.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLight.woff) format('woff')";
      font-display: swap;
      font-weight: 200;
    }
  00040font-face{font-family:"Public Sans";src:"url(assets/fonts/PublicSans-ExtraLight.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLight.woff) format('woff')";font-display:swap;font-weight:200}</style><script>!function(){if("fonts"in document){const f=new FontFace("Public Sans","url(assets/fonts/PublicSans-Thin.woff2) format('woff2'), url(assets/fonts/PublicSans-Thin.woff) format('woff')",{weight:"100"}),s=new FontFace("Public Sans","url(assets/fonts/PublicSans-ThinItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ThinItalic.woff) format('woff')",{weight:"100",style:"italic"}),a=new FontFace("Public Sans","url(assets/fonts/PublicSans-ExtraLightItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLightItalic.woff) format('woff')",{weight:"200",style:"italic"}),t=new FontFace("Public Sans","url(assets/fonts/PublicSans-ExtraLight.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraLight.woff) format('woff')",{weight:"200"}),o=new FontFace("Public Sans","url(assets/fonts/PublicSans-Light.woff2) format('woff2'), url(assets/fonts/PublicSans-Light.woff) format('woff')",{weight:"300"}),l=new FontFace("Public Sans","url(assets/fonts/PublicSans-LightItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-LightItalic.woff) format('woff')",{weight:"300",style:"italic"}),n=new FontFace("Public Sans","url(assets/fonts/PublicSans-Italic.woff2) format('woff2'), url(assets/fonts/PublicSans-Italic.woff) format('woff')",{style:"italic"}),i=new FontFace("Public Sans","url(assets/fonts/PublicSans-Medium.woff2) format('woff2'), url(assets/fonts/PublicSans-Medium.woff) format('woff')",{weight:"400"}),e=new FontFace("Public Sans","url(assets/fonts/PublicSans-MediumItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-MediumItalic.woff) format('woff')",{weight:"400",style:"italic"}),c=new FontFace("Public Sans","url(assets/fonts/PublicSans-Regular.woff2) format('woff2'), url(assets/fonts/PublicSans-Regular.woff) format('woff')",{weight:"500"}),w=new FontFace("Public Sans","url(assets/fonts/PublicSans-Bold.woff2) format('woff2'), url(assets/fonts/PublicSans-Bold.woff) format('woff')",{weight:"600"}),u=new FontFace("Public Sans","url(assets/fonts/PublicSans-BoldItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-BoldItalic.woff) format('woff')",{weight:"600",style:"italic"}),r=new FontFace("Public Sans","url(assets/fonts/PublicSans-SemiBold.woff2) format('woff2'), url(assets/fonts/PublicSans-SemiBold.woff) format('woff')",{weight:"700"}),S=new FontFace("Public Sans","url(assets/fonts/PublicSans-SemiBoldItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-SemiBoldItalic.woff) format('woff')",{weight:"700",style:"italic"}),P=new FontFace("Public Sans","url(assets/fonts/PublicSans-ExtraBold.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraBold.woff) format('woff')",{weight:"800"}),b=new FontFace("Public Sans","url(assets/fonts/PublicSans-ExtraBoldItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-ExtraBoldItalic.woff) format('woff')",{weight:"800",style:"italic"}),m=new FontFace("Public Sans","url(assets/fonts/PublicSans-Black.woff2) format('woff2'), url(assets/fonts/PublicSans-Black.woff) format('woff')",{weight:"900"}),d=new FontFace("Public Sans","url(assets/fonts/PublicSans-BlackItalic.woff2) format('woff2'), url(assets/fonts/PublicSans-BlackItalic.woff) format('woff')",{weight:"900",style:"italic"});Promise.all([f.load(),s.load(),a.load(),t.load(),o.load(),l.load(),n.load(),i.load(),e.load(),c.load(),w.load(),u.load(),r.load(),S.load(),P.load(),b.load(),m.load(),d.load()]).then(function(f){f.forEach(function(f){document.fonts.add(f)})})}}()</script><body> <!--[if lte IE 9]><p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p><![endif]--><nav class="navigation"><ul><li> <a href="/"> PORTFOLIO </a></li><li> <a href="/posts"> POSTS </a></li><li> <a href="/about"> ABOUT </a></li></ul> </nav> <main class="main-article"> <article class="post"><section class="post__header"><h2>Web Fonts</h2> <time>8/2019</time> </section><section class="post__banner"> <img src="/assets/web-fonts/public-weights-and-styles.png" alt="Public Sans Weights and Styles"></img> </section><section class="post__article"><p> I subscribe to <a href="https://www.getrevue.co/profile/freshfonts">Noemi Stauffer's awesome Fresh Fonts newsletter</a> and really enjoy all the new fonts and stories behind them. That's how I found <b>Public Sans</b>, a font created by the U.S. Government from their <a href="https://designsystem.digital.gov/">USWDS department</a>.</p></section><section class="post__article"><h3>Government Issued Fonts</h3><p> <a href="https://github.com/uswds/public-sans">Public Sans</a> is a "A strong, neutral typeface for interfaces, text, and headings" and is "a fork of the SIL Open Licensed face Libre Franklin". Check out the github repo page for a detailed breakdown of the font and the changes made by the designers.</p><p> I use this font for this blog and I use every weight and style of the font-family, which comes out to about 18 font files. Yes, this is a bad practice and strongly advised against, but I've been getting into the web font world recently and decided to turn this into a learning challenge.</p></section><figure class="post__figure"> <img src="/assets/web-fonts/public-weights-and-styles.png" alt="Public Sans Weights and Styles"><img> <figcaption><h5> Public Sans Weights and Styles</h5> </figcaption> </figure><section class="post__article"><h3>Optimizing with Font Tools</h3><p> First up, we need to optimize our font files to reduce file size via <b>subsetting</b> and using <b>WOFF</b> and <b>WOFF2</b> font files. Check out my blog about <a href="">Web Font Tooling</a> to set up your computer with the tools I'll be using below.</p><p> I'll be following the web font genius <a href="https://www.zachleat.com/web/css-tricks-web-fonts/">Zach Leat's guide for 2-stage font loading.</a></p><p> <b>Public Sans</b> comes with web font files, but I will be further optimizing them with <b>pyftsubset</b>. Here's a look at the <b>True Type</b> format file sizes for each style. There is a total of <b>18</b> fonts that add up to <b>1.2 Megabytes</b>.</p> </section><figure class="post__figure"> <img src="/assets/web-fonts/true-type-kb-size.png" alt="Public Sans True Type File Sizes"></img> <figcaption><h5> Public Sans Font File Sizes</h5> </figcaption> </figure><section class="post__article"><h3>Font Tools</h3><p> We are ready to install <a href="https://github.com/fonttools/fonttools">fonttools</a>. You can use <b>pip</b> or <b>homebrew</b>.</p><section class="post__code-highlight"> <figure> <code>pip install fonttools</code> </figure> </section><p></p><section class="post__code-highlight"> <figure> <code>brew install fonttools</code> </figure> </section><p> We will need <b>brotli</b> for <b>woff2</b> compression when running the <b>pyftsubset</b> command.</p><section class="post__code-highlight"> <figure> <code>pip install brotli</code> </figure> </section><p> We did it, now we can use the amazing <b>pyftsubset</b> command. I haven't found much documentation online for this tool, but the <b>--help</b> flag is super in-depth. There are many options for <b>pyftsubset</b> and the commands get pretty long. When looking at the list of options, it truly is astounding how much technical detail goes into creating web fonts. There is a lot going on behind the scenes!</p><section class="post__code-highlight"> <figure> <code>pyftsubset --help</code> </figure> </section><section class="post__code-highlight"> <figure> <code>pyftsubset "PublicSans.ttf" --output-file="PublicSans.woff2" --flavor=woff2 --layout-features="*" --no-hinting --desubroutinize --unicodes=U+0-10FFFF</code> </figure> </section><p> <b>--flavor=woff2</b> will create a <b>woff2</b> compressed file for our font.</p><p> <b>--layout-features="*"</b> will include all <b>OpenType</b> features. This is a whole other avenue I haven't explored. The command below will list all features if you want to learn more.</p><section class="post__code-highlight"> <figure> <code>pyftsubset "PublicSans-Medium.ttf" --layout-features="?"</code> </figure> </section><p> <b>--no-hinting</b> will not include hinting features in the <b>OpenType</b> file. Hinting is the process of optimizing the font for <a href="https://www.typotheque.com/articles/hinting">maximum screen readability</a>.</p><p> <b>--unicodes=U+0-10FFFF</b> will include our range of glyphs we need for our website.</p></section><section class="post__article"><h3>Glyphhanger</h3><p> <a href="https://github.com/filamentgroup/glyphhanger">Glyphhanger</a> is built on top of <b>fonttools</b> and has awesome web font powers built in. Font expert Zach Leat has <a href="https://www.zachleat.com/web/glyphhanger/">much to say about it here</a>. You can get it with <b>npm</b></p><section class="post__code-highlight"> <figure> <code>npm install -g glyphhanger</code> </figure> </section><p> Some noticeable differences between <b>pyftsubset</b> and <b>glyphhanger</b> are: <b>glyphhanger</b> crawls websites, returns the unicode characters and outputs a woff/woff2 subsetted web font, super powerful stuff!</p><p> But <b>glyphhanger</b> is missing the <b>--layout-features</b> flag and several others that make <b>pyftsubset</b> a precise tool for cutting out font features depending on your needs. It really shines by returning a list of unicode characters on a site which you can use for subsetting to reduce web font sizes.</p><section class="post__code-highlight"> <figure> <code>glyphhanger http://example.com</code> </figure> </section><p> Combine these two together and you have an efficient subsetting and compression approach for delivering web fonts.</p><p> This article covers <a href="https://www.afasterweb.com/2018/03/09/subsetting-fonts-with-glyphhanger/">subsetting a webpage with glyphhanger</a> and <a href="https://dev.to/benjaminblack/save-your-users-data-by-subsetting-web-fonts-5eo9">this one too</a>.</p></section> </article> </main> <noscript> You need to enable JavaScript to run this app. </noscript></body></html>